---
layout: null
title: WORKOUT
permalink: /workout/
---
<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PROTECTION VIE PRIV√âE : Emp√™che Google d'indexer cette page -->
  <meta name="robots" content="noindex, nofollow">

  <title>Coach Sportif - Full Body & Split</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Theme: Slate / Blue / Emerald -->
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .chart-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
      height: 300px;
      max-height: 350px;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f5f9;
    }

    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #94a3b8;
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }

    @keyframes pulse-ring {
      0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
      }

      70% {
        transform: scale(1);
        box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
      }

      100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      }
    }

    .timer-active {
      animation: pulse-ring 2s infinite;
    }

    .program-selector-btn.active {
      background-color: #1e293b !important;
      color: white !important;
      border-color: #1e293b !important;
    }

    .program-selector-btn.inactive {
      background-color: white;
      color: #64748b;
      border-color: #e2e8f0;
    }

    .program-selector-btn.inactive:hover {
      background-color: white;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    }

    .dark .program-selector-btn.inactive {
      background-color: #334155;
      color: #cbd5e1;
      border-color: #475569;
    }

    .dark .program-selector-btn.inactive:hover {
      background-color: #334155;
    }

    .custom-checkbox:checked {
      background-color: #2563eb;
      border-color: #2563eb;
    }

    .guide-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .guide-card:hover {
      transform: translateY(-2px);
    }
  </style>
</head>

<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 pb-32 transition-colors duration-300">

  <!-- GLOBAL HEADER & PROGRAM SELECTOR -->
  <header
    class="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-40 shadow-sm transition-colors duration-300">
    <div class="max-w-5xl mx-auto px-4 py-4">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex items-center gap-4">
          <div>
            <h1 class="text-2xl font-extrabold text-slate-900 dark:text-white tracking-tight">Muscle Plus<span
                class="text-blue-600 dark:text-blue-400"> 4000</span></h1>
            <p class="text-xs text-slate-400 font-medium uppercase tracking-wide">Coach Local & Interactif</p>
          </div>
          <!-- Theme Toggle -->
          <button onclick="toggleTheme()"
            class="p-2 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">
            <span id="theme-icon-sun" class="hidden">‚òÄÔ∏è</span>
            <span id="theme-icon-moon">üåô</span>
          </button>
        </div>

        <!-- Main Program Switcher -->
        <div
          class="flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl w-full md:w-auto transition-colors overflow-x-auto">
          <button onclick="switchProgram('fullbody')" id="btn-prog-fullbody"
            class="program-selector-btn active flex-1 md:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-sm whitespace-nowrap">Full
            Body</button>
          <button onclick="switchProgram('split')" id="btn-prog-split"
            class="program-selector-btn inactive flex-1 md:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap mx-1">Split</button>
          <button onclick="switchProgram('guide')" id="btn-prog-guide"
            class="program-selector-btn inactive flex-1 md:flex-none px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap text-emerald-600 dark:text-emerald-400">üéì
            Guide</button>
        </div>
      </div>
      <!-- Sub-Navigation (Dynamic) -->
      <div id="sub-nav-container" class="mt-4 pt-2 border-t border-slate-100 dark:border-slate-700 hidden"></div>
    </div>
  </header>

  <!-- MAIN CONTENT AREA -->
  <main class="max-w-5xl mx-auto px-4 py-6 space-y-8 animate-fade-in">

    <!-- GUIDE SECTION -->
    <section id="guide-section" class="hidden space-y-8">
      <div class="text-center max-w-2xl mx-auto mb-8">
        <h2 class="text-3xl font-bold text-slate-800 dark:text-white mb-2">Les Piliers de la Progression</h2>
        <p class="text-slate-500 dark:text-slate-400">L'entra√Ænement n'est que le stimulus. La croissance se produit
          gr√¢ce √† ce que vous faites les 23 autres heures.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Nutrition -->
        <div
          class="guide-card bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-slate-900 dark:text-white">
            <span class="text-6xl">ü•©</span>
          </div>
          <h3 class="text-xl font-bold text-blue-600 dark:text-blue-400 mb-4 flex items-center gap-2"><span
              class="bg-blue-100 dark:bg-blue-900 p-2 rounded-lg text-lg">üìä</span> Macro-Nutrition</h3>
          <ul class="space-y-4 text-sm text-slate-600 dark:text-slate-300">
            <li class="flex gap-3"><span
                class="font-bold text-slate-800 dark:text-slate-100 min-w-[80px]">Prot√©ines</span>
              <div><span class="block font-semibold text-blue-600 dark:text-blue-400">1.6g √† 2.0g par kg</span><span
                  class="text-xs opacity-80">Essentiel pour la reconstruction. Ex: 80kg = ~150g/jour.</span></div>
            </li>
            <li class="flex gap-3"><span
                class="font-bold text-slate-800 dark:text-slate-100 min-w-[80px]">Lipides</span>
              <div><span class="block font-semibold text-orange-500 dark:text-orange-400">~1g par kg</span><span
                  class="text-xs opacity-80">Vital pour les hormones. Avocats, Ol√©agineux, Oeufs.</span></div>
            </li>
            <li class="flex gap-3"><span
                class="font-bold text-slate-800 dark:text-slate-100 min-w-[80px]">Glucides</span>
              <div><span class="block font-semibold text-emerald-500 dark:text-emerald-400">Le reste</span><span
                  class="text-xs opacity-80">Votre carburant. Moduler selon l'activit√© du jour.</span></div>
            </li>
          </ul>
        </div>
        <!-- Pre-Workout -->
        <div
          class="guide-card bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-slate-900 dark:text-white">
            <span class="text-6xl">‚ö°</span>
          </div>
          <h3 class="text-xl font-bold text-orange-500 dark:text-orange-400 mb-4 flex items-center gap-2"><span
              class="bg-orange-100 dark:bg-orange-900 p-2 rounded-lg text-lg">üçå</span> Pre-Workout</h3>
          <div class="space-y-4 text-sm text-slate-600 dark:text-slate-300">
            <div
              class="bg-orange-50 dark:bg-orange-900/20 p-3 rounded-lg border border-orange-100 dark:border-orange-800/30">
              <strong class="block text-orange-700 dark:text-orange-300 mb-1">Repas Solide (2h-3h avant)</strong>
              <p class="text-xs opacity-90">Glucides complexes + Prot√©ines.<br>Ex: Riz + Poulet ou Avoine + Oeufs.</p>
            </div>
            <div
              class="bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-lg border border-yellow-100 dark:border-yellow-800/30">
              <strong class="block text-yellow-700 dark:text-yellow-300 mb-1">Snack (30min avant)</strong>
              <p class="text-xs opacity-90">Glucides rapides, peu de gras.<br>Ex: Banane, Fruit, Isolat.</p>
            </div>
          </div>
        </div>
        <!-- Sommeil -->
        <div
          class="guide-card bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-slate-900 dark:text-white">
            <span class="text-6xl">üí§</span>
          </div>
          <h3 class="text-xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 flex items-center gap-2"><span
              class="bg-indigo-100 dark:bg-indigo-900 p-2 rounded-lg text-lg">üåô</span> Sommeil</h3>
          <div class="space-y-3 text-sm text-slate-600 dark:text-slate-300">
            <p class="font-medium">C'est en dormant que le muscle grossit.</p>
            <ul class="list-disc list-inside space-y-2 opacity-90">
              <li><strong>7h √† 9h</strong> par nuit minimum.</li>
              <li>Chambre fra√Æche (19¬∞C) et noire totale.</li>
              <li>La r√©gularit√© des horaires est cl√©.</li>
            </ul>
          </div>
        </div>
        <!-- Steps/NEAT -->
        <div
          class="guide-card bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 relative overflow-hidden group">
          <div
            class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity text-slate-900 dark:text-white">
            <span class="text-6xl">üëü</span>
          </div>
          <h3 class="text-xl font-bold text-emerald-600 dark:text-emerald-400 mb-4 flex items-center gap-2"><span
              class="bg-emerald-100 dark:bg-emerald-900 p-2 rounded-lg text-lg">üö∂</span> Activit√© (NEAT)</h3>
          <div class="space-y-3 text-sm text-slate-600 dark:text-slate-300">
            <p class="text-xs leading-relaxed opacity-90">Le NEAT (calories br√ªl√©es hors sport) est souvent sup√©rieur √†
              la d√©pense de la s√©ance !</p>
            <div class="grid grid-cols-2 gap-3 mt-2">
              <div class="text-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg"><span
                  class="block text-2xl font-bold text-slate-800 dark:text-white">8-10k</span><span
                  class="text-xs uppercase font-bold text-slate-400">Pas / Jour</span></div>
              <div class="text-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg"><span
                  class="block text-2xl font-bold text-emerald-600 dark:text-emerald-400">~300</span><span
                  class="text-xs uppercase font-bold text-slate-400">Kcal bonus</span></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD SECTION (Charts & Info) -->
    <section id="dashboard-section" class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Dynamic Info Card -->
      <div
        class="md:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors">
        <div class="flex justify-between items-start mb-2">
          <h2 id="view-title" class="text-xl font-bold text-slate-800 dark:text-slate-100">Titre</h2>
          <div class="flex gap-2">
            <span id="view-time"
              class="px-3 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-bold uppercase flex items-center gap-1">‚è±Ô∏è
              <span id="view-time-val">--</span></span>
            <span id="view-badge"
              class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-xs font-bold uppercase">Badge</span>
          </div>
        </div>
        <p id="view-desc" class="text-slate-500 dark:text-slate-400 mb-6 text-sm leading-relaxed">Description...</p>

        <!-- Warmup Toggle (Visible only for Split) -->
        <div id="warmup-accordion"
          class="hidden bg-orange-50 dark:bg-orange-900/20 border border-orange-100 dark:border-orange-800/30 rounded-xl overflow-hidden mt-4">
          <div
            class="p-3 cursor-pointer flex justify-between items-center hover:bg-orange-100 dark:hover:bg-orange-900/40 transition-colors"
            onclick="toggleElement('warmup-content')">
            <div class="flex items-center gap-2"><span class="text-orange-600 dark:text-orange-400 font-bold">üî•
                √âchauffement Requis</span></div>
            <span class="text-orange-400 text-xs font-bold">VOIR ‚ñº</span>
          </div>
          <div id="warmup-content" class="px-4 pb-4 hidden border-t border-orange-100 dark:border-orange-800/30 pt-2">
            <ul id="warmup-list-split"
              class="list-disc list-inside text-sm text-orange-800 dark:text-orange-300 space-y-1"></ul>
          </div>
        </div>
      </div>

      <!-- Chart Card -->
      <div
        class="bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col justify-center items-center transition-colors">
        <h3 class="text-xs font-bold text-slate-400 uppercase mb-2 w-full text-center">Focus Musculaire</h3>
        <div class="chart-container"><canvas id="mainChart"></canvas></div>
      </div>
    </section>

    <!-- WORKOUT CONTENT SECTION -->
    <section id="workout-container" class="space-y-6">
      <!-- Full Body specific list (Warmup phase) -->
      <div id="fullbody-warmup-section" class="hidden">
        <div class="flex items-center gap-3 mb-4">
          <div
            class="bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400 p-2 rounded-lg font-bold transition-colors">
            01</div>
          <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 transition-colors">√âchauffement Actif</h3>
        </div>
        <div id="fb-warmup-list"
          class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 divide-y divide-slate-100 dark:divide-slate-700 transition-colors">
        </div>
      </div>

      <!-- Main Exercises List (Used by both) -->
      <div id="main-exercise-header" class="hidden flex items-center gap-3 mb-4">
        <div
          class="bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 p-2 rounded-lg font-bold transition-colors">
          02</div>
        <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 transition-colors">S√©ance</h3>
      </div>

      <div id="exercise-list" class="space-y-4"></div>

      <!-- Full Body Cool Down -->
      <div id="fullbody-cooldown" class="hidden mt-8">
        <div class="flex items-center gap-3 mb-4">
          <div
            class="bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400 p-2 rounded-lg font-bold transition-colors">
            03</div>
          <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 transition-colors">Retour au Calme</h3>
        </div>
        <div
          class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 text-sm text-slate-600 dark:text-slate-400 transition-colors">
          <ul class="list-disc list-inside space-y-2">
            <li>Suspension √† la barre (30s)</li>
            <li>√âtirements dynamiques l√©gers</li>
            <li>Respiration abdominale (2 min)</li>
          </ul>
        </div>
      </div>

      <!-- Abs Section (Split Only) -->
      <div id="abs-injector" class="hidden pt-6 border-t border-slate-200 dark:border-slate-700">
        <button onclick="toggleAbs()" id="btn-toggle-abs"
          class="w-full py-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl text-slate-500 dark:text-slate-400 font-bold hover:border-blue-400 hover:text-blue-500 transition-all flex items-center justify-center gap-2">
          <span>+</span> Ajouter Circuit Abdos (Optionnel)
        </button>
        <div id="abs-content" class="hidden space-y-4 mt-4">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 border-l-4 border-purple-500 pl-3">Circuit
              Abdominaux</h3>
            <button onclick="toggleAbs()" class="text-xs text-red-400 hover:text-red-600 font-bold">RETIRER ‚úï</button>
          </div>
          <div id="abs-list" class="space-y-4"></div>
        </div>
      </div>
    </section>

  </main>

  <!-- UNIFIED FOOTER (Timer & Progress) -->
  <div id="footer-controls"
    class="fixed bottom-0 left-0 w-full bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 shadow-[0_-5px_15px_-5px_rgba(0,0,0,0.1)] p-4 z-50 transition-colors">
    <div class="max-w-5xl mx-auto flex flex-col sm:flex-row gap-4 justify-between items-center">
      <div class="w-full sm:w-1/3">
        <div class="flex justify-between text-xs font-bold text-slate-500 dark:text-slate-400 mb-1">
          <span>Progression S√©ance</span>
          <span id="progress-pct">0%</span>
        </div>
        <div class="w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5 overflow-hidden">
          <div id="progress-bar" class="bg-blue-600 h-full rounded-full transition-all duration-500" style="width: 0%">
          </div>
        </div>
      </div>
      <div class="flex items-center gap-3 w-full sm:w-auto justify-between sm:justify-end">
        <div id="timer-display"
          class="hidden bg-slate-800 text-white font-mono text-xl px-4 py-2 rounded-lg font-bold min-w-[90px] text-center shadow-lg transform -translate-y-1">
          00:00</div>
        <div class="flex gap-2 overflow-x-auto pb-1 sm:pb-0">
          <button onclick="startGlobalTimer(60)"
            class="whitespace-nowrap bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 px-3 py-2 rounded-lg font-bold text-sm transition-colors">60s</button>
          <button onclick="startGlobalTimer(90)"
            class="whitespace-nowrap bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 px-3 py-2 rounded-lg font-bold text-sm transition-colors">90s</button>
          <button onclick="startGlobalTimer(120)"
            class="whitespace-nowrap bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 px-3 py-2 rounded-lg font-bold text-sm transition-colors">120s</button>
          <button onclick="resetTimer()"
            class="whitespace-nowrap bg-red-100 dark:bg-red-900 hover:bg-red-200 dark:hover:bg-red-800 text-red-700 dark:text-red-200 border border-red-200 dark:border-red-700 px-3 py-2 rounded-lg font-bold text-sm transition-colors">‚úï
            Reset</button>
        </div>
      </div>
    </div>
  </div>

  <!-- JAVASCRIPT LOGIC -->
  <script>
    // --- DATA SOURCE ---

    // 1. Full Body Data
    const fullBodyData = {
      title: "S√©ance Full Body",
      time: "1H00",
      desc: "Une approche compl√®te ciblant l'ensemble des groupes musculaires en une seule s√©ance. Id√©al pour maximiser la fr√©quence d'entra√Ænement ou pour les emplois du temps charg√©s (2-3 sessions/semaine).",
      chart: [8, 7, 6, 8, 9, 6], // Pecs, Shoulders, Arms, Back, Legs, Abs
      warmup: [
        { name: "Cardio L√©ger", info: "3 min" },
        { name: "Rotations Articulaires", info: "1 min" },
        { name: "Squats Poids du Corps", info: "15 reps" },
        { name: "Pompes", info: "10 reps" },
        { name: "Dislocations d'√©paules", info: "10 reps" }
      ],
      exercises: [
        { name: "Goblet Squat", muscle: "Jambes", sets: 3, reps: "10-12", rest: 90, note: "Dos droit, poussez sur les talons.", img: "/images/exercices/goblet-squat.gif" },
        { name: "D√©velopp√© Couch√©", muscle: "Pecs", sets: 3, reps: "10-12", rest: 90, note: "Contr√¥lez la descente.", img: "/images/exercices/dumbell-press.gif" },
        { name: "Tirage Vertical", muscle: "Dos", sets: 3, reps: "10-12", rest: 60, note: "Amenez la barre √† la poitrine.", img: "/images/exercices/lat-pulldown.gif" },
        { name: "Soulev√© de Terre Jambes Tendues", muscle: "Ischios", sets: 3, reps: "12-15", rest: 60, note: "Dos plat, fesses en arri√®re.", img: "/images/exercices/straight-leg-deadlift.gif" },
        { name: "D√©velopp√© Militaire Assis", muscle: "√âpaules", sets: 3, reps: "12-15", rest: 60, note: "Pas de cambrure excessive.", img: "/images/exercices/seated-overhead-press.gif" },
        { name: "Rowing Unilat√©ral", muscle: "Dos", sets: 3, reps: "12-15", rest: 60, note: "Tirage coude vers hanche.", img: "/images/exercices/single-arm-dumbbell-row.gif" },
        { name: "Planche (Gainage)", muscle: "Abdos", sets: 3, reps: "45s", rest: 45, note: "Corps align√©.", img: "/images/exercices/plank.gif" }
      ]
    };

    // 2. Split Data
    const splitProgram = {
      day1: {
        title: "PUSH",
        time: "55 Min",
        desc: "Focalis√© sur les mouvements de pouss√©e pour d√©velopper les pectoraux, les √©paules et les triceps.",
        chart: [10, 9, 8, 0, 0, 2],
        warmup: ["√âlastiques Pectoraux", "2 s√©ries chauffe D√©velopp√© (40%/60%)"],
        exercises: [
          { name: "D√©velopp√© Inclin√©", muscle: "Pecs", sets: 3, reps: "8-12", rest: 105, note: "Banc √† 30¬∞", img: "/images/exercices/barbell-incline-bench-press.gif" },
          { name: "√âcart√©s Poulie", muscle: "Pecs", sets: 3, reps: "8-15", rest: 90, note: "Focus contraction", img: "/images/exercices/cable-standing-crossover.gif" },
          { name: "Chest Press Machine", muscle: "Pecs", sets: 2, reps: "8-15", rest: 90, note: "Finisher pecs", img: "/images/exercices/chest-press-machine.gif" },
          { name: "√âl√©vations Lat√©rales", muscle: "√âpaules", sets: 3, reps: "8-15", rest: 90, note: "Contr√¥le strict", img: "/images/exercices/cable-one-arm-lateral-raise.gif" },
          { name: "Extensions Triceps Corde", muscle: "Bras", sets: 3, reps: "8-15", rest: 90, note: "Coudes fixes", img: "/images/exercices/ez-bar-tricep-pushdown.gif" },
          { name: "Extension Nuque Unilat√©rale", muscle: "Bras", sets: 2, reps: "8-15", rest: 90, note: "√âtirement triceps", img: "/images/exercices/overhead-cable-tricep-extension.gif" }
        ]
      },
      day2: {
        title: "PULL",
        time: "50 Min",
        desc: "D√©di√© √† la cha√Æne post√©rieure : dos, trap√®zes et biceps.",
        chart: [0, 2, 9, 10, 0, 0],
        warmup: ["Tirage Poitrine l√©ger (2 s√©ries)", "Repos court √©chauffement"],
        exercises: [
          { name: "Tirage Vertical", muscle: "Dos", sets: 3, reps: "8-12", rest: 120, note: "Grand dorsal", img: "/images/exercices/lat-pulldown.gif" },
          { name: "Rowing", muscle: "Dos", sets: 3, reps: "8-12", rest: 90, note: "√âpaisseur", img: "/images/exercices/single-arm-dumbbell-row.gif" },
          { name: "Tirage Horizontal Serr√©", muscle: "Dos", sets: 2, reps: "8-15", rest: 90, note: "Bas du dos/Trap√®zes", img: "/images/exercices/cable-row.gif" },
          { name: "Curl Inclin√©", muscle: "Bras", sets: 3, reps: "8-12", rest: 90, note: "Biceps chef long", img: "/images/exercices/incline-dumbbell-curl.gif" },
          { name: "Curl Pupitre", muscle: "Bras", sets: 3, reps: "8-15", rest: 90, note: "Isolation Biceps", img: "/images/exercices/close-grip-preacher-curl.gif" }
        ]
      },
      day3: {
        title: "LEG",
        time: "1H05",
        desc: "S√©ance intense ciblant le bas du corps.",
        chart: [0, 0, 0, 0, 10, 3],
        warmup: ["5 min V√©lo", "Mobilit√© Hanches", "Mont√©e en gamme Squat"],
        exercises: [
          { name: "Squat / Presse", muscle: "Jambes", sets: 3, reps: "6-12", rest: 150, note: "Lourd et contr√¥l√©", img: "/images/exercices/single-leg-leg-press.gif" },
          { name: "Soulev√© Terre Jambes Tendues", muscle: "Ischios", sets: 2, reps: "6-12", rest: 105, note: "Focus cha√Æne post√©rieure", img: "/images/exercices/straight-leg-deadlift.gif" },
          { name: "Fentes March√©es", muscle: "Jambes", sets: 2, reps: "20 pas", rest: 90, note: "Unilat√©ral", img: "/images/exercices/bodyweight-walking-lunge-movement.gif" },
          { name: "Leg Curl Machine", muscle: "Ischios", sets: 3, reps: "8-15", rest: 90, note: "Flexion genou", img: "/images/exercices/lying-leg-curl.gif" },
          { name: "Leg Extension", muscle: "Quads", sets: 3, reps: "8-15", rest: 90, note: "Finisher Quadriceps", img: "/images/exercices/leg-extension-machine.gif" },
          { name: "Mollets Debout/Assis", muscle: "Mollets", sets: 3, reps: "15-20", rest: 60, note: "Optionnel", img: "/images/exercices/seated-calf-raise.gif" }
        ]
      },
      day4: {
        title: "HIT",
        time: "45 Min",
        desc: "S√©ance hybride rappelant le haut du corps.",
        chart: [7, 7, 8, 7, 0, 0],
        warmup: ["Mobilisation √âpaules", "Tirage l√©ger"],
        exercises: [
          { name: "Tirage Vertical", muscle: "Dos", sets: 3, reps: "8-12", rest: 90, note: "Largeur", img: "/images/exercices/lat-pulldown.gif" },
          { name: "Tirage Horizontal", muscle: "Dos", sets: 2, reps: "8-15", rest: 90, note: "√âpaisseur", img: "/images/exercices/cable-row.gif" },
          { name: "D√©velopp√© Machine", muscle: "Pecs", sets: 3, reps: "8-12", rest: 90, note: "Masse globale", img: "/images/exercices/chest-press-machine.gif" },
          { name: "Pec Fly", muscle: "Pecs", sets: 2, reps: "10-15", rest: 90, note: "Isolation", img: "/images/exercices/cable-standing-crossover.gif" },
          { name: "Triceps Corde", muscle: "Bras", sets: 3, reps: "10-15", rest: 90, note: "Volume bras", img: "/images/exercices/ez-bar-tricep-pushdown.gif" },
          { name: "Oiseau Machine", muscle: "√âpaules", sets: 3, reps: "15-20", rest: 90, note: "Arri√®re d'√©paule", img: "/images/exercices/seated-reverse-fly.gif" }
        ]
      },
      abs: [
        { name: "Relev√©s de Jambes", muscle: "Abdos", sets: 4, reps: "8-20", rest: 45, note: "Bassin d√©coll√©", img: "/images/exercices/hanging-leg-raise-movement.gif" },
        { name: "Crunch Poulie", muscle: "Abdos", sets: 4, reps: "8-20", rest: 45, note: "Contraction volontaire", img: "/images/exercices/cable-standing-crunch.gif" }
      ]
    };

    // --- STATE ---
    let state = {
      program: 'fullbody',
      splitDay: 'day1',
      absEnabled: false,
      totalSets: 0,
      setsDone: 0,
      timerId: null
    };

    let chartInstance = null;

    // --- INIT ---
    document.addEventListener('DOMContentLoaded', () => {
      // Theme Check
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
        document.getElementById('theme-icon-moon').classList.add('hidden');
        document.getElementById('theme-icon-sun').classList.remove('hidden');
      } else {
        document.documentElement.classList.remove('dark');
        document.getElementById('theme-icon-moon').classList.remove('hidden');
        document.getElementById('theme-icon-sun').classList.add('hidden');
      }

      switchProgram('fullbody'); // Default load
      restoreTimerFromStorage(); // Restore timer if exists
    });

    function toggleTheme() {
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark');
        localStorage.theme = 'light';
        document.getElementById('theme-icon-sun').classList.add('hidden');
        document.getElementById('theme-icon-moon').classList.remove('hidden');
      } else {
        document.documentElement.classList.add('dark');
        localStorage.theme = 'dark';
        document.getElementById('theme-icon-moon').classList.add('hidden');
        document.getElementById('theme-icon-sun').classList.remove('hidden');
      }
      if (chartInstance) {
        const isDark = document.documentElement.classList.contains('dark');
        chartInstance.options.scales.r.grid.color = isDark ? '#334155' : '#f1f5f9';
        chartInstance.options.scales.r.pointLabels.color = isDark ? '#94a3b8' : '#64748b';
        chartInstance.update();
      }
    }

    // --- CORE FUNCTIONS ---

    function switchProgram(progType) {
      state.program = progType;
      state.absEnabled = false; // Reset abs
      state.setsDone = 0; // Reset progress visual (simple version)

      const btnFB = document.getElementById('btn-prog-fullbody');
      const btnSP = document.getElementById('btn-prog-split');
      const btnGuide = document.getElementById('btn-prog-guide');
      const subNav = document.getElementById('sub-nav-container');
      const guideSection = document.getElementById('guide-section');
      const dashboard = document.getElementById('dashboard-section');
      const workoutContainer = document.getElementById('workout-container');
      const footerControls = document.getElementById('footer-controls');

      // Reset all buttons to inactive first
      [btnFB, btnSP, btnGuide].forEach(btn => {
        btn.classList.replace('active', 'inactive');
      });

      if (progType === 'guide') {
        btnGuide.classList.replace('inactive', 'active');
        guideSection.classList.remove('hidden');
        dashboard.classList.add('hidden');
        workoutContainer.classList.add('hidden');
        subNav.classList.add('hidden');
        footerControls.classList.add('hidden');
      } else {
        guideSection.classList.add('hidden');
        dashboard.classList.remove('hidden');
        workoutContainer.classList.remove('hidden');
        footerControls.classList.remove('hidden');

        if (progType === 'fullbody') {
          btnFB.classList.replace('inactive', 'active');
          subNav.classList.add('hidden');
          renderView(fullBodyData);
          document.getElementById('fullbody-warmup-section').classList.remove('hidden');
          document.getElementById('fullbody-cooldown').classList.remove('hidden');
          document.getElementById('warmup-accordion').classList.add('hidden');
          document.getElementById('abs-injector').classList.add('hidden');
          document.getElementById('main-exercise-header').classList.remove('hidden');
        } else {
          btnSP.classList.replace('inactive', 'active');
          subNav.classList.remove('hidden');
          renderSplitNav();
          loadSplitDay(state.splitDay);
          document.getElementById('fullbody-warmup-section').classList.add('hidden');
          document.getElementById('fullbody-cooldown').classList.add('hidden');
          document.getElementById('warmup-accordion').classList.remove('hidden');
          document.getElementById('abs-injector').classList.remove('hidden');
          document.getElementById('main-exercise-header').classList.add('hidden');
        }
      }
    }

    function renderSplitNav() {
      const days = [{ id: 'day1', label: 'PUSH' }, { id: 'day2', label: 'PULL' }, { id: 'day3', label: 'LEG' }, { id: 'day4', label: 'HIT' }];
      const html = days.map(d => `<button onclick="loadSplitDay('${d.id}')" id="nav-${d.id}" class="split-nav-btn text-xs font-bold px-3 py-1.5 rounded-full border transition-colors mr-2 mb-2 ${state.splitDay === d.id ? 'bg-blue-600 text-white border-blue-600' : 'bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600 hover:border-blue-400'}">${d.label}</button>`).join('');
      document.getElementById('sub-nav-container').innerHTML = html;
    }

    function loadSplitDay(dayId) {
      state.splitDay = dayId;
      state.absEnabled = false;
      document.querySelectorAll('.split-nav-btn').forEach(btn => {
        btn.className = 'split-nav-btn text-xs font-bold px-3 py-1.5 rounded-full border transition-colors mr-2 mb-2 bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 border-slate-200 dark:border-slate-600 hover:border-blue-400';
      });
      document.getElementById(`nav-${dayId}`).className = 'split-nav-btn text-xs font-bold px-3 py-1.5 rounded-full border transition-colors mr-2 mb-2 bg-blue-600 text-white border-blue-600';
      document.getElementById('abs-content').classList.add('hidden');
      document.getElementById('btn-toggle-abs').classList.remove('hidden');
      document.getElementById('abs-list').innerHTML = '';
      renderView(splitProgram[dayId]);
    }

    function renderView(data) {
      document.getElementById('view-title').textContent = data.title;
      document.getElementById('view-time-val').textContent = data.time;
      document.getElementById('view-desc').textContent = data.desc;
      document.getElementById('view-badge').textContent = state.program === 'fullbody' ? 'Global' : 'Focalis√©';
      updateChart(data.chart);
      const exContainer = document.getElementById('exercise-list');
      exContainer.innerHTML = '';
      data.exercises.forEach((ex, idx) => {
        const uniqueId = `ex-${state.program}-${state.splitDay}-${idx}`;
        exContainer.innerHTML += createExerciseCard(ex, uniqueId);
      });
      if (state.program === 'fullbody') {
        const fbWarmup = document.getElementById('fb-warmup-list');
        fbWarmup.innerHTML = fullBodyData.warmup.map(w => `<div class="p-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"><div><span class="font-bold text-slate-700 dark:text-slate-200 text-sm">${w.name}</span> <span class="block text-xs text-slate-400 dark:text-slate-500">${w.info}</span></div><input type="checkbox" onchange="checkSet(this)" class="custom-checkbox w-5 h-5 rounded border-slate-300 dark:border-slate-600 text-blue-600 focus:ring-blue-500 bg-white dark:bg-slate-700"></div>`).join('');
      } else {
        const splitWarmup = document.getElementById('warmup-list-split');
        splitWarmup.innerHTML = data.warmup.map(w => `<li>${w}</li>`).join('');
        document.getElementById('warmup-content').classList.add('hidden');
      }
      calculateTotals();
    }

    function createExerciseCard(ex, uniqueId) {
      let boxes = '';
      for (let i = 1; i <= ex.sets; i++) {
        boxes += `<div class="relative"><input type="checkbox" onchange="checkSet(this)" class="custom-checkbox peer appearance-none w-10 h-10 border-2 border-slate-200 dark:border-slate-600 rounded-lg checked:bg-blue-600 checked:border-blue-600 dark:checked:border-blue-500 transition-all cursor-pointer z-10 relative bg-white dark:bg-slate-700"><span class="absolute inset-0 flex items-center justify-center text-slate-300 dark:text-slate-600 font-bold pointer-events-none peer-checked:text-white">${i}</span></div>`;
      }
      const hasImage = ex.img ? true : false;
      const imgSection = hasImage ? `<div id="gif-${uniqueId}" class="hidden mt-3 border border-slate-200 dark:border-slate-600 rounded-lg overflow-hidden bg-white"><div class="relative w-full h-48 sm:h-64 flex items-center justify-center bg-white"><img src="${ex.img}" alt="${ex.name}" class="max-w-full max-h-full object-contain" onerror="this.onerror=null; this.src='https://via.placeholder.com/400x300?text=GIF+Manquant';"></div><div class="p-2 text-center text-xs text-slate-400 bg-slate-50 dark:bg-slate-800">D√©mo: ${ex.name}</div></div>` : '';
      const btnCam = hasImage ? `<button onclick="toggleGif('${uniqueId}')" class="text-blue-500 hover:text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 p-1.5 rounded-full transition-colors" title="Voir D√©mo"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg></button>` : '';

      return `<div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all hover:shadow-md animate-fade-in"><div class="flex justify-between items-start mb-3"><div class="pr-2"><span class="inline-block px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 text-[10px] font-bold uppercase mb-1 tracking-wide">${ex.muscle}</span><h4 class="font-bold text-slate-800 dark:text-slate-100 text-lg leading-tight flex items-center gap-2">${ex.name} ${btnCam}</h4><p class="text-xs text-slate-400 dark:text-slate-500 mt-1 italic">üí° ${ex.note}</p></div><div class="text-right pl-2 shrink-0"><span class="block font-bold text-slate-700 dark:text-slate-200 text-lg whitespace-nowrap">${ex.sets} x ${ex.reps}</span><button onclick="startGlobalTimer(${ex.rest})" class="mt-2 inline-flex items-center gap-1 text-xs font-bold text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20 px-2 py-1 rounded hover:bg-orange-100 dark:hover:bg-orange-900/40 transition-colors">‚è±Ô∏è ${ex.rest}s</button></div></div>${imgSection}<div class="flex flex-wrap gap-2 mt-2 pt-2 border-t border-slate-50 dark:border-slate-700">${boxes}</div></div>`;
    }

    function toggleGif(id) {
      const el = document.getElementById(`gif-${id}`);
      if (el) el.classList.toggle('hidden');
    }

    function toggleAbs() {
      const container = document.getElementById('abs-content');
      const list = document.getElementById('abs-list');
      const btn = document.getElementById('btn-toggle-abs');
      if (!state.absEnabled) {
        state.absEnabled = true;
        list.innerHTML = '';
        splitProgram.abs.forEach((ex, idx) => {
          const uniqueId = `abs-${idx}`;
          list.innerHTML += createExerciseCard(ex, uniqueId);
        });
        container.classList.remove('hidden');
        btn.classList.add('hidden');
        setTimeout(() => {
          container.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      } else {
        state.absEnabled = false;
        container.classList.add('hidden');
        btn.classList.remove('hidden');
        list.innerHTML = '';
      }
      calculateTotals();
    }

    function toggleElement(id) {
      document.getElementById(id).classList.toggle('hidden');
    }

    function calculateTotals() {
      const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
      state.totalSets = allCheckboxes.length;
      const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked');
      state.setsDone = checkedBoxes.length;
      updateProgressBar();
    }

    function checkSet(el) { calculateTotals(); }

    function updateProgressBar() {
      const pct = state.totalSets === 0 ? 0 : Math.round((state.setsDone / state.totalSets) * 100);
      document.getElementById('progress-bar').style.width = `${pct}%`;
      document.getElementById('progress-pct').innerText = `${pct}%`;
      if (pct === 100 && state.totalSets > 0) {
        document.getElementById('progress-pct').classList.add('text-emerald-500');
      }
    }

    function resetTimer() {
      clearInterval(state.timerId);
      const display = document.getElementById('timer-display');
      display.classList.add('hidden');
      display.classList.remove('bg-slate-800', 'timer-active', 'bg-emerald-500');
      display.innerText = '00:00';
      localStorage.removeItem('timerEndTime');
    }

    function startGlobalTimer(seconds) {
      clearInterval(state.timerId);
      const display = document.getElementById('timer-display');
      display.classList.remove('hidden', 'bg-emerald-500');
      display.classList.add('bg-slate-800', 'timer-active');
      const startTime = Date.now();
      const endTime = startTime + (seconds * 1000);
      localStorage.setItem('timerEndTime', endTime);
      let timeLeft = seconds;
      display.innerText = formatTime(timeLeft);
      state.timerId = setInterval(() => {
        timeLeft--;
        display.innerText = formatTime(timeLeft);
        if (timeLeft <= 0) {
          clearInterval(state.timerId);
          display.innerText = "GO!";
          display.classList.remove('bg-slate-800', 'timer-active');
          display.classList.add('bg-emerald-500');
          localStorage.removeItem('timerEndTime');
          setTimeout(() => display.classList.add('hidden'), 3000);
        }
      }, 1000);
    }

    function restoreTimerFromStorage() {
      const timerEndTime = localStorage.getItem('timerEndTime');
      if (!timerEndTime) return;
      const endTime = parseInt(timerEndTime);
      const now = Date.now();
      const timeLeft = Math.max(0, Math.floor((endTime - now) / 1000));
      if (timeLeft > 0) {
        const display = document.getElementById('timer-display');
        if (display) {
          display.classList.remove('hidden', 'bg-emerald-500');
          display.classList.add('bg-slate-800', 'timer-active');
          display.innerText = formatTime(timeLeft);
          let remaining = timeLeft;
          state.timerId = setInterval(() => {
            remaining--;
            display.innerText = formatTime(remaining);
            if (remaining <= 0) {
              clearInterval(state.timerId);
              display.innerText = "GO!";
              display.classList.remove('bg-slate-800', 'timer-active');
              display.classList.add('bg-emerald-500');
              localStorage.removeItem('timerEndTime');
              setTimeout(() => display.classList.add('hidden'), 3000);
            }
          }, 1000);
        }
      } else {
        localStorage.removeItem('timerEndTime');
      }
    }

    function formatTime(s) {
      const m = Math.floor(s / 60);
      const sec = s % 60;
      return `${m}:${sec < 10 ? '0' : ''}${sec}`;
    }

    function updateChart(dataValues) {
      const ctx = document.getElementById('mainChart').getContext('2d');
      const isDark = document.documentElement.classList.contains('dark');
      if (chartInstance) {
        chartInstance.destroy();
      }
      chartInstance = new Chart(ctx, {
        type: 'radar',
        data: {
          labels: ['Pecs', '√âpaules', 'Bras', 'Dos', 'Jambes', 'Abdos'],
          datasets: [{
            label: 'Intensit√©',
            data: dataValues,
            backgroundColor: 'rgba(37, 99, 235, 0.2)',
            borderColor: '#2563eb',
            pointBackgroundColor: '#2563eb',
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            r: {
              min: 0,
              max: 10,
              ticks: { display: false },
              pointLabels: {
                font: { size: 11, family: 'Inter' },
                color: isDark ? '#94a3b8' : '#64748b'
              },
              grid: { color: isDark ? '#334155' : '#f1f5f9' }
            }
          },
          plugins: { legend: { display: false } }
        }
      });
    }
  </script>
</body>

</html>